---
 - name: CREATING THE K8S WORKSTATION
   hosts: k8s-ws
   become: yes
   gather_facts: false
​
   tasks:
   - name: DOWNLOAD THE AWS CLI ZIP FILE
     get_url: 
     url: https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip"
     dest: /home/centos/
​
   - name: INSTALLING UNZIP
     yum:
      name: unzip
      state: latest
​
   - name: UNZIPPING THE AWS CLI
     unarchive:
        src: /home/centos/awscli-exe-linux-x86_64.zip"
        dest: /home/centos/
        remote: yes
        
    - name: Installing AWS CLI
      command: ./aws/install --update
 
   - name: Downloading KOPS
      get_url: 
       url: https://github.com/kubernetes/kops/releases/download/v1.20.0/kops-linux-amd64
       dest: /usr/local/bin/kops
​
   - name: MAKES KOPS BINARY EXECUTABLE
     command: chmod +x /usr/local/bin/kops
​
   - name: Downloading KUBECTL
      get_url:
       url: https://dl.k8s.io/release/v1.20.0/bin/linux/amd64/kubectl
       dest: /usr/local/bin/kubectl
​
   - name: MAKES KUBECTL BINARY EXECUTABLE
     command: chmod +x /usr/local/bin/kubectl
​
   - name: GENERATE SSH KEYPAIR
     openssh_keypair: 
     path: /home/centos/.ssh/id_rsa
     state: present
​
   - name: create k8s cluster
     shell: /usr/local/bin/kops create cluster --yes --state=s3://nalini-k8s --zone=eu-west-2a, eu-west-2b --node-count=2 --name=nalini.k8s.local --ssh-public-key /home/centos/.ssh/id_rsa.pub
...
...